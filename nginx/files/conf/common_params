## Managed by Salt Stack. Do NOT edit Manually!

error_page 500 /errors/500.html;
error_page 502 /errors/502.html;
error_page 503 /errors/503.html;
error_page 504 /errors/500.html;
error_page 505 /errors/500.html;
error_page 403 /errors/403.html;
error_page 404 /errors/404.html;

location ^~ /errors/ {
    internal;
    root /var/www;
}

location ~* \.(?:jpe?g|gif|png|ico|pdf|zip|tar|t?gz|mp3|wav|swf|gz|mp4|ogg|ogv|webm|htc)$ {
  add_header Cache-Control public;
  fastcgi_hide_header Set-Cookie;
  tcp_nodelay off;
}

location ~* \.(?:svgz?)$ {
  add_header Cache-Control public;
  fastcgi_hide_header Set-Cookie;
  tcp_nodelay off;
}

location ~* \.(?:css|js)$ {
  add_header Cache-Control public;
  fastcgi_hide_header Set-Cookie;
}

# Cross domain webfont access
location ~* \.(?:ttf|ttc|otf|eot|woff|font.css)$ {
  add_header "Access-Control-Allow-Origin" "*";
  add_header Cache-Control public;
  fastcgi_hide_header Set-Cookie;
}

# Prevent clients from accessing hidden files (starting with a dot)
# This is particularly important if you store .htpasswd files in the site hierarchy
location ~* (?:^|/)\. {
  deny all;
}

# Prevent clients from accessing to backup/config/source files
location ~* (?:\.(?:bak|config|sql|fla|psd|ini|log|sh|inc|swp|dist)|~)$ {
  deny all;
}

location = /favicon.ico {
  log_not_found off;
  access_log off;
}

location = /robots.txt {
  allow all;
  log_not_found off;
  access_log off;
}

# vim: et ts=2 sw=2 ft=conf
